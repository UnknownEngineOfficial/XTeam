# ============================================================================
# XTeam Backend Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=XTeam
APP_VERSION=0.1.0
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

# ============================================================================
# Server Configuration
# ============================================================================
HOST=0.0.0.0
PORT=8000
RELOAD=True

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://xteam_user:xteam_password@localhost:5432/xteam_db
DATABASE_ECHO=False
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ============================================================================
# Redis Configuration
# ============================================================================
# Format: redis://[:password]@host:port/db
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_URL=redis://localhost:6379/1
REDIS_QUEUE_URL=redis://localhost:6379/2

# ============================================================================
# JWT Authentication
# ============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOW_HEADERS=*

# ============================================================================
# LLM API Configuration
# ============================================================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Azure OpenAI Configuration (optional)
AZURE_OPENAI_API_KEY=your-azure-openai-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Groq Configuration (optional)
GROQ_API_KEY=your-groq-api-key

# Ollama Configuration (optional, for local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ============================================================================
# MetaGPT Configuration
# ============================================================================
METAGPT_WORKSPACE=/workspaces/XTeam/backend/workspaces
METAGPT_LOG_LEVEL=INFO
METAGPT_ENABLE_STREAMING=True

# ============================================================================
# File Storage Configuration
# ============================================================================
UPLOAD_DIR=/workspaces/XTeam/backend/uploads
MAX_UPLOAD_SIZE_MB=100
ALLOWED_FILE_EXTENSIONS=.py,.js,.ts,.tsx,.jsx,.json,.yaml,.yml,.md,.txt,.html,.css

# ============================================================================
# Email Configuration (optional)
# ============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@xteam.ai
SMTP_FROM_NAME=XTeam

# ============================================================================
# Deployment Configuration
# ============================================================================
# Vercel
VERCEL_TOKEN=your-vercel-token
VERCEL_PROJECT_ID=your-vercel-project-id

# Netlify
NETLIFY_TOKEN=your-netlify-token
NETLIFY_SITE_ID=your-netlify-site-id

# Docker Registry
DOCKER_REGISTRY_URL=docker.io
DOCKER_REGISTRY_USERNAME=your-docker-username
DOCKER_REGISTRY_PASSWORD=your-docker-password

# ============================================================================
# Monitoring & Analytics (optional)
# ============================================================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_WEBSOCKET_STREAMING=True
ENABLE_AGENT_PERSISTENCE=True
ENABLE_CODE_EXECUTION=False
ENABLE_DEPLOYMENT=False

# ============================================================================
# Security
# ============================================================================
# HTTPS/SSL Configuration
SSL_CERTFILE=
SSL_KEYFILE=

# Rate Limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================================================
# Celery Configuration (Task Queue)
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
